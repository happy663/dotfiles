---
description: タスクについて詳細に調査し、構造化されたまとめを出力する
---

# タスク調査コマンド

以下のタスクについて、ultratthinkモードで深く考察し、詳細に調査してください。

調査対象: $ARGUMENTS

## 調査項目

以下の項目について調査し、構造化されたまとめを出力してください:

1. **タスクの背景**
   - なぜやるのか
   - やらないとどうなるのか
2. **タスクの期限**
   - 最終期限
   - 推奨対応時期
3. **過去の対応方法**
   - 過去に同様のタスクがあればその対応履歴
   - 標準的な作業フロー
4. **今回の対応で確認すべき事項**
   - 具体的な確認ポイント
   - 注意すべき事項

## 出力形式の要件

以下の形式で出力してください:

### 文体

- 語尾は「だ・である」調で統一する
- 「〜します」「〜があります」ではなく「〜する」「〜がある」とする

### リンクの明示

- **情報源が存在するものは全てにリンクを付ける**
- GitHub Issueの場合: Issue番号とコメントへの直接リンク
- ドキュメントの場合: 該当ページのURL
- コードの場合: ファイルパスと行番号
- リンクがない情報は [推測] または [類推] と明記する

### 構造

以下の形式でリスト + サブ項目の構造を使用する:

````
### 背景

[タスクの概要を簡潔に記述]

#### 影響範囲
- 項目名
  - 詳細内容
  - ソース: [リンク]

#### なぜやるのか
- 理由1
  - 詳細説明
  - ソース: [リンク]

### 期限(存在すれば)

- YYYY-MM-DD

### 過去の対応方法

過去の対応例: [Issue #XXXXX](リンク)

1. **ステップ1の名前**
   - 具体的な内容・コマンド
   - 注意点
   - ソース: [リンク]
2. **ステップ2の名前**
   - 具体的な内容・コマンド
   - 注意点
   - ソース: [リンク]

### 今回の確認事項

#### 対象システム/バッチ一覧
- システム名1
  - 詳細（実行時間、処理内容など）
  - ソース: [リンク]
- システム名2
  - 詳細
  - ソース: [リンク]

#### 動作確認方法
```sh
# 確認コマンド例
command here
````

---

**重要ポイント**:

- ポイント1
- ポイント2

```

## 調査の進め方

1. まず関連するGitHub Issueを `gh issue view` で確認する
2. 過去の類似Issue・PRを検索する
3. 関連するドキュメント・設定ファイルを確認する
4. 必要に応じて他のリポジトリも調査する（`ghq list` で存在確認後）
5. 収集した情報を上記の形式でまとめる

## 注意事項

- すべての情報に出典を明記すること
- 推測の場合は必ず **[推測]** または **[類推]** と明記すること
- 確信度が低い情報（60%未満）は必ず明示すること
- 情報は簡潔に、必要な内容のみに絞ること
- リンクは必ず動作確認できる正確なものを記載すること
```
